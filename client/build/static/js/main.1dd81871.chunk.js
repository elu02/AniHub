(this.webpackJsonpanihub=this.webpackJsonpanihub||[]).push([[0],{64:function(e,t,s){},78:function(e,t,s){"use strict";s.r(t);var i=s(0),n=s(26),a=s.n(n),c=(s(64),s(9)),r=s(8),j=(s(65),s.p+"static/media/logo.4aad838a.png"),o=s(56),l=s(29),d=s(16),b=s(1),u=function(){return Object(b.jsxs)(o.a,{bg:"light",variant:"light",children:[Object(b.jsx)(o.a.Brand,{to:"/",children:Object(b.jsx)("img",{src:j,alt:"logo",height:"50px"})}),Object(b.jsxs)(l.a,{className:"mr-auto",children:[Object(b.jsx)(d.b,{to:"/",className:"nav-link",children:"Home"}),Object(b.jsx)(d.b,{to:"/my-list",className:"nav-link",children:"My List"}),Object(b.jsx)(d.b,{to:"/about",className:"nav-link",children:"About"})]}),Object(b.jsxs)(l.a,{className:"justify-content-end",children:[Object(b.jsx)(d.b,{to:"/login",className:"nav-link",children:"Login"}),Object(b.jsx)(d.b,{to:"/register",className:"nav-link",children:"Register"}),Object(b.jsx)(d.b,{to:"/logout",className:"nav-link",children:"Logout"})]})]})},h=s(27),m=s.n(h),x=s(38),O=s(80),p=20;function g(){return(g=Object(x.a)(m.a.mark((function e(t,s){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length<3&&s([]),e.next=3,O.a.get("https://api.jikan.moe/v4/anime?q=".concat(t,"&sfw=treue&order_by=rating&sort=desc&limit=").concat(p)).then((function(e){s(e.data.data)})).catch((function(){console.log("error getting search results")}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){var t=e.currentSearch,s=e.setCurrentSearch,i=e.setAnimeList,n=e.history;return Object(b.jsx)("center",{children:Object(b.jsxs)("form",{className:"searchbox-form",onSubmit:function(e){!function(e,t){g.apply(this,arguments)}(t,i),e.preventDefault(),n.push("/results")},children:[Object(b.jsx)("input",{placeholder:"Search for an anime...",className:"searchbox",value:t,onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("button",{className:"submit-button",type:"submit",children:"Search"})]})})},v=s(25),y=s(28);function L(){return(L=Object(x.a)(m.a.mark((function e(t,s,i){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://api.jikan.moe/v4/anime/".concat(s.mal_id)).then((function(e){t(e.data.data)})).catch((function(){console.log("error finding anime with id: ")}));case 2:i.push("/anime-view");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){var t=e.animeList,s=e.index,i=e.setAnime,n=e.history;if(s>=t.length)return Object(b.jsx)("div",{});var a=t[s];return Object(b.jsxs)(v.a,{tag:"a",onClick:function(){return function(e,t,s){return L.apply(this,arguments)}(i,a,n)},style:{cursor:"pointer"},className:"anime-card",children:[Object(b.jsx)(v.a.Img,{variant:"top",src:a.images.jpg.image_url}),Object(b.jsxs)(v.a.Body,{children:[Object(b.jsx)(v.a.Title,{children:a.title.length>40?a.title.slice(0,37)+"...":a.title}),Object(b.jsx)(v.a.Text,{children:a.synopsis&&a.synopsis.length>140?a.synopsis.slice(0,137)+"...":a.synopsis})]}),Object(b.jsxs)(v.a.Footer,{children:["Rating: ",a.score?a.score+"/10 \u2b50":"Not Rated"]})]})},S=function(e){var t=e.animeList,s=e.currentSearch,i=e.setAnime,n=e.history;return s.length<3&&n.push("/"),Object(b.jsx)("div",{className:"results",children:Object(b.jsxs)("div",{className:"cards-container",children:[Object(b.jsxs)("h2",{className:"resultsFor",children:['Search results for "',s,'"...']}),Object(b.jsxs)(y.a,{className:"anime-row",children:[Object(b.jsx)(N,{animeList:t,index:0,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:1,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:2,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:3,setAnime:i,history:n})]}),Object(b.jsxs)(y.a,{className:"anime-row",children:[Object(b.jsx)(N,{animeList:t,index:4,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:5,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:6,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:7,setAnime:i,history:n})]}),Object(b.jsxs)(y.a,{className:"anime-row",children:[Object(b.jsx)(N,{animeList:t,index:8,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:9,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:10,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:11,setAnime:i,history:n})]}),Object(b.jsxs)(y.a,{className:"anime-row",children:[Object(b.jsx)(N,{animeList:t,index:12,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:13,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:14,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:15,setAnime:i,history:n})]}),Object(b.jsxs)(y.a,{className:"anime-row",children:[Object(b.jsx)(N,{animeList:t,index:16,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:17,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:18,setAnime:i,history:n}),Object(b.jsx)(N,{animeList:t,index:19,setAnime:i,history:n})]})]})})},w=function(e){var t=e.anime,s=e.setAnime,n=e.history,a=e.userid,r=Object(i.useState)(!1),j=Object(c.a)(r,2),o=j[0],l=j[1];Object(i.useEffect)((function(){if(!t){var e=localStorage.getItem("anime");e&&s(JSON.parse(e))}}),[]),Object(i.useEffect)((function(){t&&localStorage.setItem("anime",JSON.stringify(t))}));return Object(b.jsx)("div",{className:"anime-view",children:Object(b.jsx)("div",{className:"flex-container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col1",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{className:"av-image",src:t?t.images.jpg.image_url:"Loading",alt:"anime cover"})}),Object(b.jsxs)("div",{className:"av-rating",children:["\u2b50 Score: ",t?t.score:"Loading","/10"]}),Object(b.jsxs)("div",{className:"av-episodes",children:["\ud83c\udfa5 Episodes: ",t?t.episodes:"Loading"]}),Object(b.jsxs)("div",{className:"av-airing",children:["\u2708\ufe0f Status: ",t?t.status:"Loading"]}),Object(b.jsxs)("div",{className:"av-rated",children:["\ud83c\udf1a Rated: ",t?t.rating:"Loading"]}),Object(b.jsx)("button",{className:"back-button",onClick:function(){n.push("/results")},children:"Go Back"}),Object(b.jsx)("button",{className:"add-to-list",onClick:function(){-1===a?n.push("/login"):O.a.post("".concat("","/add"),{user:a,anime:t.title}).then((function(e){200===e.status&&l(!0)}))},children:o?"Added!":"Add to List"})]}),Object(b.jsxs)("div",{className:"col2",children:[Object(b.jsx)("div",{className:"av-title",children:t?t.title:""}),Object(b.jsxs)("div",{className:"av-synopsis",children:[Object(b.jsx)("b",{children:"Synopsis: "}),t?t.synopsis:""]})]})]})})})},A=s(11),k=s(48),C=s(59),E=s(47),J=function(e){var t=e.msg;return"E1"===t?Object(b.jsx)("div",{children:"error, username must be between 3 and 30 characters and password must be between 8 and 30 characters"}):"E2"===t?Object(b.jsx)("div",{children:"error, username is taken"}):"OK"===t?Object(b.jsx)("div",{children:"Success!"}):Object(b.jsx)("div",{})},U=function(e){var t=e.userid,s=e.setUserid,n=e.tab,a=Object(i.useState)(""),r=Object(c.a)(a,2),j=r[0],o=r[1],l=Object(i.useState)(""),d=Object(c.a)(l,2),u=d[0],h=d[1],m=Object(i.useState)(""),x=Object(c.a)(m,2),p=x[0],g=x[1],f=Object(i.useState)(""),v=Object(c.a)(f,2),y=v[0],L=v[1],N=Object(i.useState)(!1),S=Object(c.a)(N,2),w=S[0],U=S[1],I=Object(i.useState)(""),R=Object(c.a)(I,2),K=R[0],D=R[1];return Object(i.useEffect)((function(){localStorage.setItem("userID",JSON.stringify(t))})),Object(b.jsx)("div",{className:"login-container",children:Object(b.jsx)("div",{className:"internal-login-container",children:Object(b.jsxs)(C.a,{defaultActiveKey:n,children:[Object(b.jsxs)(E.a,{eventKey:"login",title:"Login",children:[Object(b.jsxs)(A.a,{onSubmit:function(e){e.preventDefault(),O.a.post("".concat("","/login"),{username:p,password:y}).then((function(e){"not found"!==(e=e.data)?(U(!1),s(e[0].id)):U(!0)}))},children:[Object(b.jsxs)(A.a.Group,{children:[Object(b.jsx)(A.a.Label,{children:"Username"}),Object(b.jsx)(A.a.Control,{value:p,placeholder:"Enter your Username",onChange:function(e){g(e.target.value)}})]}),Object(b.jsxs)(A.a.Group,{children:[Object(b.jsx)(A.a.Label,{children:"Password"}),Object(b.jsx)(A.a.Control,{value:y,type:"password",placeholder:"Enter your Password",onChange:function(e){L(e.target.value)}})]}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Login"})]}),Object(b.jsx)("div",{style:{color:"red"},children:w?"Username or password is incorrect":""})]}),Object(b.jsxs)(E.a,{eventKey:"register",title:"Register",children:[Object(b.jsxs)(A.a,{onSubmit:function(e){e.preventDefault(),O.a.post("".concat("","/register"),{username:j,password:u}).then((function(e){"E1"===(e=e.data)?D("E1"):"E2"===e?D("E2"):"OK"===e&&D("OK")}))},children:[Object(b.jsxs)(A.a.Group,{children:[Object(b.jsx)(A.a.Label,{children:"Username"}),Object(b.jsx)(A.a.Control,{value:j,placeholder:"Create Username",onChange:function(e){o(e.target.value)}})]}),Object(b.jsxs)(A.a.Group,{children:[Object(b.jsx)(A.a.Label,{children:"Password"}),Object(b.jsx)(A.a.Control,{value:u,type:"password",placeholder:"Create Password",onChange:function(e){h(e.target.value)}})]}),Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Register"})]}),Object(b.jsx)(J,{msg:K})]}),Object(b.jsxs)(E.a,{eventKey:"logout",title:"Logout",children:[Object(b.jsxs)(A.a,{style:{padding:"10px"},onSubmit:function(e){e.preventDefault(),s(-1)},children:["Are you sure? ",Object(b.jsx)(k.a,{variant:"primary",type:"submit",children:"Yes"})]}),Object(b.jsx)("div",{style:{color:"red"},children:w?"Username or password is incorrect":""})]})]})})})},I=function(){return Object(b.jsxs)("div",{className:"about",children:[Object(b.jsx)("b",{children:"Anihub is a user-friendly webapp that allows you to search for information about any anime as well as add anime to your plan-to-watch list."})," ",Object(b.jsx)("br",{}),"Created April 2021 ",Object(b.jsx)("br",{}),"languages used: HTML, CSS, Javascript, SQL",Object(b.jsx)("br",{}),"main technologies/frameworks/libraries used: ReactJS, ExpressJS, NodeJS, MySQL, React Bootstrap, Jikan API",Object(b.jsx)("br",{}),Object(b.jsx)("a",{href:"https://github.com/elu02/AniHub",children:"github repo"})," ",Object(b.jsx)("br",{})]})},R=function(e){var t=e.watchList;return 0===t.length?Object(b.jsx)("div",{children:"You have no anime on your plan-to-watch list"}):t.map((function(e){return Object(b.jsx)("li",{children:e.anime},e.id)}))},K=function(e){var t=e.userid,s=Object(i.useState)([]),n=Object(c.a)(s,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){O.a.post("".concat("","/get-list"),{user:t}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[t]),Object(b.jsxs)("div",{className:"my-list",children:[Object(b.jsx)("h2",{children:"Plan-to-watch List:"}),Object(b.jsx)("ol",{children:Object(b.jsx)(R,{watchList:a})})]})},D=function(){var e=Object(r.f)(),t=Object(i.useState)(""),s=Object(c.a)(t,2),n=s[0],a=s[1],j=Object(i.useState)([]),o=Object(c.a)(j,2),l=o[0],d=o[1],h=Object(i.useState)(null),m=Object(c.a)(h,2),x=m[0],O=m[1],p=Object(i.useState)(-1),g=Object(c.a)(p,2),v=g[0],y=g[1];return Object(i.useEffect)((function(){var e=localStorage.getItem("userID");"undefined"!==e&&y(JSON.parse(e))})),Object(i.useEffect)((function(){document.title="Anihub"}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(u,{}),Object(b.jsx)("main",{children:Object(b.jsxs)(r.c,{children:[Object(b.jsx)(r.a,{exact:!0,path:"/",children:Object(b.jsx)(f,{currentSearch:n,setCurrentSearch:a,animeList:l,setAnimeList:d,history:e})}),Object(b.jsx)(r.a,{exact:!0,path:"/results",children:Object(b.jsx)(S,{animeList:l,currentSearch:n,setAnime:O,history:e})}),Object(b.jsx)(r.a,{exact:!0,path:"/anime-view",children:Object(b.jsx)(w,{anime:x,setAnime:O,history:e,userid:v})}),Object(b.jsx)(r.a,{exact:!0,path:"/my-list",children:Object(b.jsx)(K,{userid:v,history:e})}),Object(b.jsx)(r.a,{exact:!0,path:"/about",children:Object(b.jsx)(I,{})}),Object(b.jsx)(r.a,{exact:!0,path:"/login",children:Object(b.jsx)(U,{userid:v,setUserid:y,tab:"login"})}),Object(b.jsx)(r.a,{exact:!0,path:"/register",children:Object(b.jsx)(U,{userid:v,setUserid:y,tab:"register"})}),Object(b.jsx)(r.a,{exact:!0,path:"/logout",children:Object(b.jsx)(U,{userid:v,setUserid:y,tab:"logout"})})]})})]})};a.a.render(Object(b.jsx)(d.a,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.1dd81871.chunk.js.map